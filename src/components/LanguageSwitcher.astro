---
import '../styles/language-switcher.css';

const currentLocale = Astro.currentLocale;
const currentPath = Astro.url.pathname;

// Get the path without locale prefix
const pathWithoutLocale = currentPath.replace(/^\/(en|nl)(\/|$)/, '/');

// Build language switch URLs
const nlUrl = `/nl${pathWithoutLocale === '/' ? '/' : pathWithoutLocale}`;
const enUrl = `/en${pathWithoutLocale === '/' ? '/' : pathWithoutLocale}`;
---

<div class="language-container">
  {currentLocale !== 'en' ? (
    <a href={enUrl} class="language-link" hreflang="en">
      EN
    </a>
  ) : (
    <a href={nlUrl} class="language-link" hreflang="nl">
      NL
    </a>
  )}
</div>
